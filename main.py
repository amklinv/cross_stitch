import numpy as np
from math import sqrt
from numpy.linalg import norm
from PIL import Image

colors = {}
colors['3713'] = (255,226,226)
colors['761'] = (255,201,201)
colors['760'] = (245,173,173)
colors['3712'] = (241,135,135)
colors['3328'] = (227,109,109)
colors['347'] = (191,45,45)
colors['353'] = (254,215,204)
colors['352'] = (253,156,151)
colors['351'] = (233,106,103)
colors['350'] = (224,72,72)
colors['349'] = (210,16,53)
colors['817'] = (187,5,31)
colors['3708'] = (255,203,213)
colors['3706'] = (255,173,188)
colors['3705'] = (255,121,146)
colors['3801'] = (231,73,103)
colors['304'] = (183,31,51)
colors['498'] = (167,19,43)
colors['815'] = (135,7,31)
colors['814'] = (123,0,27)

colors['894'] = (255,178,187)
colors['893'] = (252,144,162)
colors['892'] = (255,121,140)
colors['891'] = (255,87,115)
colors['818'] = (255,223,217)
colors['957'] = (253,181,181)
colors['956'] = (255,145,145)
colors['309'] = (186,74,74)
colors['963'] = (255,215,215)
colors['3716'] = (255,189,189)
colors['962'] = (230,138,138)
colors['961'] = (207,115,115)
colors['3833'] = (234,134,153)
colors['3832'] = (219,85,110)
colors['3831'] = (179,47,72)
colors['777'] = (145,53,70)
colors['819'] = (255,238,235)
colors['3326'] = (251,173,180)
colors['776'] = (252,176,185)
colors['899'] = (242,118,136)
colors['335'] = (238,84,110)
colors['326'] = (179,59,75)

colors['151'] = (240,206,212)
colors['3354'] = (228,166,172)
colors['3733'] = (232,135,155)
colors['3731'] = (218,135,155)
colors['3350'] = (188,67,101)
colors['150'] = (171,2,73)
colors['3689'] = (251,191,194)
colors['3688'] = (231,169,172)
colors['3687'] = (201,107,112)
colors['3803'] = (171,51,87)
colors['3685'] = (136,21,49)
colors['605'] = (255,192,205)
colors['604'] = (255,176,190)
colors['603'] = (255,164,190)
colors['602'] = (226,72,116)
colors['601'] = (209,40,106)
colors['600'] = (205,47,99)
colors['3806'] = (255,140,174)
colors['3805'] = (243,71,139)
colors['3804'] = (224,40,118)
colors['3609'] = (244,174,213)
colors['3608'] = (234,156,196)
colors['3607'] = (197,73,137)
colors['718'] = (156,36,98)
colors['917'] = (155,19,89)
colors['915'] = (130,0,67)

colors['225'] = (255,223,213)
colors['224'] = (235,183,175)
colors['152'] = (226,160,153)
colors['223'] = (204,132,124)
colors['3722'] = (188,108,100)
colors['3721'] = (161,75,81)
colors['221'] = (136,62,67)
colors['778'] = (223,179,187)
colors['3727'] = (219,169,178)
colors['316'] = (183,115,127)
colors['3726'] = (155,91,102)
colors['315'] = (129,73,82)
colors['3802'] = (113,65,73)
colors['902'] = (130,38,55)
colors['3743'] = (215,203,211)
colors['3042'] = (183,157,167)
colors['3041'] = (149,111,124)
colors['3740'] = (120,87,98)
colors['3836'] = (186,145,170)
colors['3835'] = (148,96,131)
colors['3834'] = (114,55,93)
colors['154'] = (87,36,51)

colors['211'] = (227,203,227)
colors['210'] = (195,159,195)
colors['209'] = (163,123,167)
colors['208'] = (131,91,139)
colors['3837'] = (108,58,110)
colors['153'] = (230,204,217)
colors['554'] = (219,179,203)
colors['553'] = (163,99,139)
colors['552'] = (128,58,107)
colors['550'] = (92,24,78)
colors['3747'] = (211,215,237)
colors['341'] = (183,191,221)
colors['156'] = (163,174,209)
colors['340'] = (173,167,199)
colors['155'] = (152,145,182)
colors['3746'] = (119,107,152)
colors['333'] = (92,84,120)
colors['157'] = (187,195,217)
colors['794'] = (143,156,193)
colors['793'] = (112,125,162)
colors['3807'] = (96,103,140)
colors['792'] = (85,91,123)
colors['158'] = (76,82,110)
colors['791'] = (70,69,99)

colors['3840'] = (176,192,218)
colors['3839'] = (123,142,171)
colors['3838'] = (92,114,148)
colors['800'] = (192,204,222)
colors['809'] = (148,168,198)
colors['799'] = (116,142,182)
colors['798'] = (70,106,142)
colors['796'] = (17,65,109)
colors['820'] = (14,54,92)
colors['162'] = (219,236,245)
colors['827'] = (189,221,237)
colors['813'] = (161,194,215)
colors['826'] = (107,158,191)
colors['825'] = (71,129,165)
colors['824'] = (57,105,135)
colors['3843'] = (20,170,208)
colors['995'] = (38,150,182)
colors['3846'] = (6,227,230)
colors['3845'] = (4,196,202)
colors['3844'] = (18,174,186)

colors['159'] = (199,202,215)
colors['160'] = (153,159,183)
colors['161'] = (120,128,164)
colors['3756'] = (238,252,252)
colors['775'] = (217,235,241)
colors['3841'] = (205,223,237)
colors['3325'] = (184,210,230)
colors['3755'] = (147,180,206)
colors['334'] = (115,159,193)
colors['322'] = (90,143,184)
colors['312'] = (53,102,139)
colors['803'] = (44,89,124)
colors['336'] = (37,59,115)
colors['823'] = (33,48,99)
colors['939'] = (27,40,83)
colors['3753'] = (219,226,233)
colors['3752'] = (199,209,219)
colors['932'] = (162,181,198)
colors['931'] = (106,133,158)
colors['930'] = (69,92,113)
colors['3750'] = (56,76,94)

colors['828'] = ()
colors['3761'] = ()
colors['519'] = ()
colors['518'] = ()
colors['3760'] = ()
colors['517'] = ()
colors['3842'] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()
colors[''] = ()


def get_closest_color(rgb_triplet):
    min_dist = 200000
    for color in colors.values():
        dist = norm(color-rgb_triplet)
        if dist <= min_dist:
            min_dist = dist
            closest = color
    return closest

# Open method used to open different extension image file
im = Image.open(r"C:\Users\aklin\Downloads\Image_20230418_215354_199.jpeg")

original_width, original_height = im.size

width = 150
height = 200

# Reduce the size of the image
resized = im.resize((width,height))

# Get the pixels
pix = np.asarray(resized)

recolored = [[get_closest_color(x) for x in row] for row in pix]
recolored = np.asarray(recolored).astype(np.uint8)
recolored = Image.fromarray(recolored).resize((original_width, original_height))

# This method will show image in any image viewer
recolored.show()